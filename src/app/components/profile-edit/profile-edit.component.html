<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "default" color = "#fff" type = "ball-spin-clockwise" [fullScreen] = "true"><p style="color: white" ></p></ngx-spinner>
<div class="container">
    <mat-card class="profile-card" appearance="outlined">
      <mat-card-header>
        <h2 class="profile-title">Edit Profile</h2>
      </mat-card-header>
  
      <mat-card-content>
        <div class="profile-image-section">
          <div class="image-upload-container" [class.has-image]="imageUrl">
            <img *ngIf="imageUrl" [src]="imageUrl" alt="Profile picture" class="preview-image">
            <div *ngIf="!imageUrl" class="upload-placeholder">
              <mat-icon>add_a_photo</mat-icon>
              <span>Add Photo</span>
            </div>
            <input type="file" #fileInput hidden accept="image/*" (change)="onFileSelected($event)">
            <button mat-mini-fab class="change-photo-button" (click)="fileInput.click()">
              <mat-icon>{{ imageUrl ? 'edit' : 'add' }}</mat-icon>
            </button>
          </div>
        </div>
  
        <form [formGroup]="profileForm" class="form-grid">
          <mat-form-field appearance="outline">
            <mat-label>First Name</mat-label>
            <input matInput formControlName="firstName" placeholder="">
            <mat-icon matSuffix>person</mat-icon>
            <mat-error *ngIf="profileForm.get('firstName')?.invalid && profileForm.get('firstName')?.touched">
              First Name is required.
            </mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline">
            <mat-label>Last Name</mat-label>
            <input matInput formControlName="lastName" placeholder="">
            <mat-icon matSuffix>person</mat-icon>
            <mat-error *ngIf="profileForm.get('lastName')?.invalid && profileForm.get('lastName')?.touched">
              Last Name is required.
            </mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput formControlName="email" placeholder="" type="email">
            <mat-icon matSuffix>email</mat-icon>
            <mat-error *ngIf="profileForm.get('email')?.invalid && profileForm.get('email')?.touched">
              A valid email is required.
            </mat-error>
          </mat-form-field>
  
          <mat-form-field appearance="outline">
            <mat-label>Phone Number</mat-label>
            <input matInput formControlName="phone" placeholder="" type="tel">
            <mat-icon matSuffix>phone</mat-icon>
          </mat-form-field>
        </form>
      </mat-card-content>
  
      <mat-card-actions>
        <button (click)="onCancel()" mat-stroked-button type="button" class="cancel-button">
          <mat-icon>close</mat-icon> Cancel
        </button>
        <button (click)="onSubmit()" mat-flat-button color="primary" type="submit" class="save-button">
          <mat-icon>check</mat-icon> Save
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
  